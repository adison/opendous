#summary MF/HF 100MHz Upconverter for Receivers

PAGE UNDER CONSTRUCTION
= Upconverter =

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Picture.jpg

= Upconverter with DVB Dongle =

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter-100MHz-ADE_with_DVB_Dongle.jpg

Converts signals in the [http://en.wikipedia.org/wiki/Medium_frequency MF] and [http://en.wikipedia.org/wiki/High_frequency HF] Bands to signals in the [http://en.wikipedia.org/wiki/Very_high_frequency VHF] Band (specifically 100.3MHz to 150MHz).  Intended for use in receiver applications with projects like [http://sdr.osmocom.org/trac/wiki/rtl-sdr RTL-SDR]/[http://sdrsharp.com/ SDR#]/[http://www.funcubedongle.com/ FunCube Dongle], or to listen to AM radio using an FM receiver.

The design files can be found in [http://code.google.com/p/opendous/source/browse/trunk/Current_Designs/Upconverter/ SVN] or [http://code.google.com/p/opendous/downloads/list downloaded as an archive].  The board was designed using the [http://en.wikipedia.org/wiki/Free_and_open-source_software Free Open-Source Software] [http://iut-tice.ujf-grenoble.fr/kicad/ KiCad] and [http://qucs.sourceforge.net/ QUCS].  All design files are [http://freedomdefined.org/OSHW Open Hardware] and [http://code.google.com/p/opendous/source/browse/trunk/Current_Designs/Upconverter/License.txt released] into the Public Domain under [http://creativecommons.org/publicdomain/zero/1.0/ Creative Commons CC0].

Now available from [http://www.nooelec.com/store/software-defined-radio/ham-it-up-v1-0-rf-upconverter-for-software-defined-radio.html NooElec Online] or [http://www.ebay.com/itm/Ham-It-Up-v1-0-RF-Upconverter-For-SDR-Funcube-RTLSDR-MF-HF-Converter-E4000-/150916970582 eBay].

Questions or comments? Visit the [http://groups.google.com/group/opendous Opendous Google Group]!  There is also a [http://code.google.com/p/opendous/wiki/Upconverter#FAQ FAQ] and [Upconverter_Testing additional testing results].

= Design =

The Upconverter is a passive [http://www.radio-electronics.com/info/rf-technology-design/mixers/double-balanced-mixer-tutorial.php Double-Balanced Mixer] with RF switches at input and output to allow a Passthrough mode.  Power is sourced from a standard USB-microB connector.  The switch controls the signal path, Passthrough or Upconvert, and mirrors the board layout.  Switch towards the SMA connector is Upconvert, towards PCB edge for Passthrough.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Diagram.jpg

RF and IF ports in a Double-Balanced Mixer are interchangeable but there is more LO-to-RF Isolation than LO-to-IF Isolation.  To reduce LO radiation through the antenna, the RF port is used as input and the RF Low-pass filter has greater than 60dB attenuation at the LO frequency.

The mixer used is the [http://www.minicircuits.com/homepage/homepage.html Mini-Circuits] [http://www.minicircuits.com/pdfs/ADE-1.pdf ADE-1] with a low LO Power Level to reduce noise and better receive weak signals.  The LO Level is nominally +7dBm but set to around +4dBm to better receive weak signals.  [http://code.google.com/p/opendous/wiki/Upconverter_Testing#LO_Filter_Testing Minor modifications] can increase LO Level if desired.  [http://code.google.com/p/opendous/wiki/Upconverter#Testing Upconversion losses] are around 10dB.

http://code.google.com/p/opendous/wiki/Upconverter_Testing#LO_Filter_Testing

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Mixer.jpg

== RF Input Low-pass Filter ==

The input [http://en.wikipedia.org/wiki/Low-pass_filter Low-pass filter] is an [http://en.wikipedia.org/wiki/Elliptic_filter Elliptic (Cauer)] filter used for its sharp transition between passband and stopband.  This allows a further reduction in LO radiation through the antenna and keeps higher frequencies from mixing with the intended output products.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Lowpass_Filter_Schematic.jpg

The filter was designed to have less than 1dB of ripple in its passband and a 3dB cutoff at the lower input range of cheap SDR dongles.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Lowpass_Filter_Simulation.jpg

The input switch and filter together manage to keep passband ripple below 1.5dB.  This [http://code.google.com/p/opendous/source/browse/trunk/Current_Designs/Upconverter/Upconverter_Lowpass_Filter_Testing_Results-VNWA_Data.s2p data] plot was created using a [http://www.sdr-kits.net/VNWA/VNWA_Description.html VNWA] freshly calibrated for 0.1MHz to 120MHz.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Lowpass_Filter_Testing_Results.jpg

== LO Band-pass Filter ==

Most oscillators show significant bleed of the internal frequency used in their multiplier circuitry.  With 100MHz oscillators the internal frequency tends to be in the 20-25MHz range, directly in the [http://en.wikipedia.org/wiki/High_frequency HF] band of interest.  To reduce these frequencies at the output and also help reduce LO harmonics, a [http://en.wikipedia.org/wiki/Bessel_filter Bessel] [http://en.wikipedia.org/wiki/Bandpass band-pass] filter is used for its minimal phase distortion to keep the LO signal as clean as possible.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_LO_Filter_Schematic.jpg

The attenuator and filter are used to reduce the LO level to an optimal value.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_LO_Filter_Simulation.jpg

This [http://code.google.com/p/opendous/source/browse/trunk/Current_Designs/Upconverter/Upconverter_LO_Filter_Testing_Results-VNWA_Data.s2p data] plot was created using a [http://www.sdr-kits.net/VNWA/VNWA_Description.html VNWA] freshly calibrated for 40MHz to 160MHz.  Theory and practice clearly deviate here but the losses are acceptable for the LO signal.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_LO_Filter_Testing_Results.jpg

== IF Output Band-pass Filter ==

The output [http://en.wikipedia.org/wiki/Bandpass Band-pass filter] is a [http://en.wikipedia.org/wiki/Butterworth_filter Butterworth] filter used for its lack of ripple in the passband.  It is a 7th-order topology to ensure a sharp transition between passband and stopband.  A band-pass filter was chosen to get the upconversion products of the mixer and to reduce LO harmonic products at the IF output.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Bandpass_Filter_Schematic.jpg

The filter was designed to have a passpand between 100MHz and 150MHz (the upconverted 0.3MHz to 50MHz signals).  Attenuation of LO harmonics/products and RF input frequencies is >30dB.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Bandpass_Filter_Simulation.jpg

This [http://code.google.com/p/opendous/source/browse/trunk/Current_Designs/Upconverter/Upconverter_Bandpass_Filter_Testing_Results-VNWA_Data.s2p data] plot was created using a [http://www.sdr-kits.net/VNWA/VNWA_Description.html VNWA] freshly calibrated for 70MHz to 200MHz.  The filter and output switch manage to keep losses to about 3dB in the [http://en.wikipedia.org/wiki/Medium_frequency MF] and [http://en.wikipedia.org/wiki/High_frequency HF] Bands.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Bandpass_Filter_Testing_Results.jpg

== Passthrough Mode ==

This [http://code.google.com/p/opendous/source/browse/trunk/Current_Designs/Upconverter/Upconverter_Passthrough_Testing_Results-VNWA_Data.s2p data] plot was created using a [http://www.sdr-kits.net/VNWA/VNWA_Description.html VNWA] freshly calibrated for 0.3MHz to 1300MHz.  The [http://www.skyworksinc.com/Product.aspx?ProductID=39 AS169-73LF] RF switches and PCB trace have losses of about 1dB up to around 1GHz.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Passthrough_Testing_Results.jpg

== Testing ==

There is a dedicated page for [http://code.google.com/p/opendous/wiki/Upconverter_Testing?ts=1349936676&updated=Upconverter_Testing#Conversion_Losses additional testing results].

The following is the spectrum of a 24MHz oscillator ([http://en.wikipedia.org/wiki/Attenuator_(electronics)#Attenuator_circuits attenuated] and [http://en.wikipedia.org/wiki/DC_block DC-blocked]):

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Testing-24MHz_Breadboard_Clock.jpg

The following is the spectrum of the 24MHz oscillator upconvertered to 124MHz:

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Testing-24MHz_Breadboard_Clock_Upconverted_to_124MHz.jpg

== Layout ==

To reduce costs and allow for cheap prototyping, the board was designed to 2-layer 8-8-20 (8mil Trace, 8mil Clearance, and 20mil minimum drill size) specifications.  A [http://www.microwaves101.com/encyclopedia/coplanarwaveguide.cfm Coplanar Waveguide with Ground] 40mil-Trace 8mil-Clearance structure provides the necessary 50-Ohm [http://en.wikipedia.org/wiki/Characteristic_impedance characteristic impedance] over the intended frequency range.  This happens to be about as wide as 0805 parts which allows for DIY'ability.  The following image is of [http://iut-tice.ujf-grenoble.fr/kicad/ KiCad]'s PCB Calculator.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_PCB_Trace_Calculations.jpg

One side is a GND plane underneath all RF circuitry.  Power is supplied through a [http://en.wikipedia.org/wiki/Resettable_fuse PTC]-protected [http://en.wikipedia.org/wiki/Universal_Serial_Bus#Mini_and_Micro_connectors USB-microB] connector to allow powering the board using anything compatible with standard [http://en.wikipedia.org/wiki/Universal_Serial_Bus#Mobile_device_charger_standards mobile device chargers].  The 5V supply is converted to 3.3V with an RF LDO, the [http://www.ti.com/product/tps79333 TPS79333].  The 100MHz oscillator is buffered with a [http://www.ti.com/product/sn74lvc1g126 74LVC1G126] gate to enable high drive levels and allow either TTL or CMOS output oscillators to be used.  The oscillator is disabled when Passthrough mode is selected.  Additional space that was leftover is used for a simple [http://code.google.com/p/opendous/wiki/Upconverter#Optional_Noise_Source Noise Source].

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter-100MHz-ADE_Layout-Small.jpg


= SDR Software Tuning Instructions =

With your Upconverter input shorted or unconnected, tune your SDR software to 100.06MHz, select the Lower Sideband (LSB) and see where the nearest peak is (other than 100.06MHz where you will see the DC spike) in the FFT display.  This is the ideal base tuning frequency for your combination of Upconverter and Receiver/Demodulator.  This takes into account any frequency offset from the Receiver/Demodulator.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Configuring_SDR_Software_Offset_Frequency.jpg

= Optional Noise Source =

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Noise_Source_Picture.jpg

The Noise Source is a basic [http://en.wikipedia.org/wiki/Avalanche_breakdown Avalanche] [http://pdfserv.maximintegrated.com/en/an/AN3469.pdf noise circuit].  A 5V to 12V boost regulator is used to power a [http://en.wikipedia.org/wiki/Zener_diode#Uses Zener] diode which use Avalanche breakdown above 6V.  The output is DC-blocked and amplified by about 40dB using two amplifiers.

When using the Noise Source, place the Upconverter into Passthrough Mode (switch away from SMA connector) and install the `Noise_Source_EN` power jumper prior to powering the Upconverter board through the USB connector.  Otherwise the [http://en.wikipedia.org/wiki/Switch#Contact_bounce contact bounce] will create problems.

http://opendous.googlecode.com/svn/trunk/Current_Designs/Upconverter/Upconverter_Noise_Source_Schematic-Small.jpg

= Enclosure =

INSTRUCTIONS WILL BE POSTED SOON

The Upconverter is designed to fit within a [http://www.hammondmfg.com/dwg18.htm Hammond 1411GU Box].  The box needs holes drilled for the Upconverter.  It is available from [http://www.digikey.com/product-detail/en/1411GU/HM609-ND DigiKey], [http://us.mouser.com/Search/Refine.aspx?Keyword=1411G+box+hammond Mouser], [http://uk.farnell.com/hammond/1411gu/box-aluminium-102x56x56mm/dp/3536853 Farnell], and [http://www.eciaauthorized.com/search?pn=1411GU other suppliers].

= FAQ =

* Why not add an amplifier? * : Since the [http://en.wikipedia.org/wiki/Noise_figure Noise Figure] of an RF system is most dependent on the Noise Figure of the first elements in the signal chain, it does make sense to place an [http://en.wikipedia.org/wiki/Low_noise_amplifier LNA] at the antenna port.  I just wasn't sure if most users would have their Upconverter at their antenna.

* Can it be used for Transmitting? * : Sure, there are no one-way paths in the Upconverter.  If you have a VHF transmitter that operates in the 100MHz to 150MHz range then the Upconverter can be used in reverse as a down-converting mixer to broadcast over 0.3MHz to 50MHz (downconverted 100MHz to 150MHz signal).  All you would need is a Power Amplifier and [http://en.wikipedia.org/wiki/Bandpass bandpass filter] for your intended frequency range at the RF port and an attenuator at the IF port if the transmitting signal was above 0dBm.